<div class="background">
  <!-- <mat-card class="search">
    <mat-card-content> -->
      <form novalidate autocomplete="off" [formGroup]="searchMovieForm" (ngSubmit)="submitMovie()">
        <div>
          <label>
            <mat-form-field appearance="standard">
              <!-- <mat-label>Search by movie title</mat-label> -->
              <input matInput placeholder="Search movie title" formControlName="title">
            </mat-form-field>
            <span *ngIf="searchMovieFormSubmitted && searchMovieForm.get('title')!.errors?.['required']">
              *Please add a title 
            </span>                       
          </label>
        </div>
        <div>
          <button type="submit" mat-fab color="primary">
            <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="search"></mat-icon>
          </button>
        </div>
      </form>
    <!-- </mat-card-content>
  </mat-card> -->
     
   
  <div *ngIf="displayResults">
    <ng-container *ngIf="movies; else loading">
      <div *ngIf="movies.length === 0">
        <iframe src="https://embed.lottiefiles.com/animation/103661"></iframe>
        <div>
          <p>Sorry, we could not find a movie that matches your search</p>
          <p>Lets try look for something else</p>
        </div>
      </div>
      <!-- //TODO change below once correct mapping in service. -->
      <div class="results" *ngIf="movies.length > 0">
        <!-- //TODO use an ng for here to loop through array. then add result card. -->
        <mat-card>
          <mat-card-title>{{movies[0].Title}}</mat-card-title>
          <mat-card-content>
            <p>{{movies[0].Year}}</p>
            <p>{{movies[0].Genre}}</p>
            <img [src]="movies[0].Poster">
            <p>{{movies[0].Plot}}</p>
            <p>Starring: {{movies[0].Actors}}</p>
            <p>Awards: {{movies[0].Awards}}</p>
            <p>Director: {{movies[0].Director}}</p>
            <p>Language: {{movies[0].Language}}</p>
            <p>Ratings: {{movies[0].Ratings}}</p>
            <p>Released: {{movies[0].Ratings}}</p>
            <p>Runtime: {{movies[0].Runtime}}</p>
            <p>IMDB Rating: {{movies[0].imdbRating}}</p>
            <!-- //TODO:handle cases where info above is not provided. -->
          </mat-card-content>
        </mat-card>
      </div>
    </ng-container>
    <ng-template #loading>
      <movie-loader></movie-loader>                      
    </ng-template>
  </div>
</div>
    
